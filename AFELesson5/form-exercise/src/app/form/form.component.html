<form [formGroup]="warcraftForm" (ngSubmit)="onSubmit()">
  <h2 class="form-title">Warcraft Character Form</h2>

  <div>
    <label for="name">Name:</label>
    <input id="name" formControlName="name" type="text" />
    <div
      *ngIf="name?.invalid && (name?.dirty || name?.touched)"
      class="error-message"
    >
      <div *ngIf="name?.errors?.['required']">Name is required.</div>
    </div>
  </div>
  <div>
    <label for="password">Password:</label>
    <input id="password" formControlName="password" type="password" />
    <div
      *ngIf="password?.invalid && (password?.dirty || password?.touched)"
      class="error-message"
    >
      <div *ngIf="password?.errors?.['required']">Password is required.</div>
    </div>
  </div>
  <div>
    <label for="confirm_password">Confirm Password:</label>
    <input
      id="confirm_password"
      formControlName="confirm_password"
      type="password"
    />
    <div
      *ngIf="
        confirmPassword?.invalid &&
        (confirmPassword?.dirty || confirmPassword?.touched)
      "
      class="error-message"
    >
      <div *ngIf="confirmPassword?.errors?.['required']">
        Confirm Password is required.
      </div>
      <div *ngIf="warcraftForm?.errors?.['mismatch'] && confirmPassword?.dirty">
        Passwords must match.
      </div>
    </div>
  </div>
  <div>
    <label for="race">Race:</label>
    <select id="race" formControlName="race">
      <option *ngFor="let race of races" [value]="race.name">
        {{ race.name }}
      </option>
    </select>
    <div
      *ngIf="race?.invalid && (race?.dirty || race?.touched)"
      class="error-message"
    >
      <div *ngIf="race?.errors?.['required']">Race is required.</div>
    </div>
  </div>
  <div>
    <label for="class">Class:</label>
    <select id="class" formControlName="class">
      <option *ngFor="let class of classes" [value]="class.name">
        {{ class.name }}
      </option>
    </select>
    <div
      *ngIf="class?.invalid && (class?.dirty || class?.touched)"
      class="error-message"
    >
      <div *ngIf="class?.errors?.['required']">Class is required.</div>
    </div>
  </div>
  <div>
    <label for="level">Level:</label>
    <input id="level" formControlName="level" type="number" />
    <div
      *ngIf="level?.invalid && (level?.dirty || level?.touched)"
      class="error-message"
    >
      <div *ngIf="level?.errors?.['required']">Level is required.</div>
      <div *ngIf="level?.errors?.['min']">Level must be at least 1.</div>
      <div *ngIf="level?.errors?.['max']">Level cannot be more than 60.</div>
    </div>
  </div>
  <div>
    <label for="description">Description:</label>
    <textarea id="description" formControlName="description"></textarea>
  </div>
  <div
    *ngIf="warcraftForm.invalid && (warcraftForm.dirty || warcraftForm.touched)"
    class="form-error-message"
  >
    Please correct the errors above before submitting the form.
  </div>

  <button type="submit">Submit</button>
</form>
